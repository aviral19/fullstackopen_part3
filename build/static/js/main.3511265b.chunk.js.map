{"version":3,"sources":["Components/filter.js","personService.js","Components/person.js","Components/persons.js","Components/personform.js","App.js","index.js"],"names":["Filter","filterName","setFilterName","value","onChange","event","target","baseUrl","axios","get","then","response","data","nameObject","post","id","delete","put","Person","person","deletePerson","name","number","onClick","Persons","persons","setPersons","setMessage","message","useEffect","personService","filter","search","RegExp","map","window","confirm","personObjects","catch","error","console","log","className","setTimeout","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","App","useState","setNewName","setNewNumber","UpdateMessage","notify","messageStyle","color","fontSize","background","borderStyle","borderRadius","padding","marginBottom","style","preventDefault","find","existingPersonID","returnedPerson","updatePerson","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3511265b.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst Filter = ({filterName, setFilterName}) => {\r\n    const handleFilterChange = (event) => {\r\n        setFilterName(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n          filter shown with <input value = {filterName}\r\n          onChange = {handleFilterChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst createPerson = (nameObject) => {\r\n    const request = axios.post(baseUrl,nameObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst updatePerson = (id, nameObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, nameObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, createPerson, deletePerson, updatePerson }","const Person = ({ person, deletePerson }) => (\r\n    <div>\r\n      {person.name} {person.number} <button onClick={deletePerson}>delete</button>\r\n    </div>\r\n  )\r\n  \r\nexport default Person","import React, {useEffect} from \"react\";\r\nimport personService from \"../personService\";\r\nimport Person from './person'\r\n\r\n\r\nconst Persons = ({persons, setPersons, filterName, message, setMessage }) => {\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then(persons => {\r\n      setPersons(persons)\r\n    })\r\n  }, [setPersons])\r\n\r\n  const deletePerson = person => {\r\n    if (window.confirm(`Delete ${person.name} ?`)){\r\n      personService.deletePerson(person.id).then(() => {\r\n        personService.getAll()\r\n        .then(personObjects => {\r\n          setPersons(personObjects)\r\n        })\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n        setMessage({message: `Information of ${person.name} has already been removed from server`, className: 'error'})\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 5000);\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {persons\r\n          .filter(person => person.name.search(new RegExp(filterName, 'i')) !== -1)\r\n          .map(person => <Person key={person.id} person={person} deletePerson={() => deletePerson(person)}/>)\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;","import React from 'react';\r\n\r\nconst PersonForm = ({ addPerson,\r\n    newName,\r\n    newNumber,\r\n    handleNameChange, handleNumberChange }) => {\r\n    return (\r\n    <div>\r\n        <form onSubmit = {addPerson}>\r\n            <div>\r\n            name: <input value = {newName}\r\n            onChange = {handleNameChange}/>\r\n            </div>\r\n            <div>\r\n            number: <input value = {newNumber} \r\n            onChange = {handleNumberChange}/>\r\n            </div>\r\n            <div>\r\n            <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    );\r\n  };\r\n\r\n\r\n\r\nexport default PersonForm","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Filter from './Components/filter'\nimport Persons from './Components/persons'\nimport PersonForm from './Components/personform'\nimport personService from './personService'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([\n    // { name: 'Arto Hellas', number: '040-123456' },\n    // { name: 'Ada Lovelace', number: '39-44-5323523' },\n    // { name: 'Dan Abramov', number: '12-43-234345' },\n    // { name: 'Mary Poppendieck', number: '39-23-6423122' }\n  ]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ filterName, setFilterName] = useState('')\n  const [ message, setMessage] = useState(null)\n\n  useEffect(() => {\n    // console.log('effect')\n    personService\n      .getAll()\n      .then(person => {\n        setPersons(person)\n      })\n    // axios\n    //   .get('http://localhost:3001/persons')\n    //   .then(response => {\n    //     console.log('promise fulfilled')\n    //     setPersons(response.data)\n    //   })\n  }, [])\n\n  const UpdateMessage = ({ notify }) => {\n    if(notify === null){\n      return null\n    }\n    const {message, className} = notify\n    let messageStyle = {}\n    if(className === 'update'){\n      messageStyle = {\n        color: 'green',\n        fontSize: 20,\n        background: 'lightgrey',\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n      }\n    }\n    else{\n      messageStyle = {\n        color: 'red',\n        fontSize: 20,\n        background: 'lightgrey',\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n      }\n    }\n    return (\n      <div style = {messageStyle}>\n        {message}\n      </div>\n    )\n  }\n\n\n\n  const updatePerson = (existingPersonID,nameObject) => {\n    if (window.confirm(`${nameObject.name} is already added to phonebook.\n    replace the old number with new one?`)){\n      personService\n        .updatePerson(existingPersonID, nameObject)\n        .then(returnedPerson => {\n          setMessage({message: `Added ${newName}`, className: 'update'})\n          setPersons(persons.map(person => person.id !== existingPersonID ? person : returnedPerson))\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000);\n        })\n        .catch((error) => {\n          setMessage({message: `Information of ${nameObject.name} has already been removed from server`, className: 'error'})\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000);\n        })\n    }\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if(persons.find((person) => person.name === newName)){\n      const existingPerson = persons.find((person) => person.name === newName)\n      // console.log('reaches here')\n      updatePerson(existingPerson.id, nameObject)\n    }\n    else{\n      personService\n        .createPerson(nameObject)\n        .then(person => {\n          setMessage({message: `Added ${newName}`, className: 'update'})\n          setPersons(persons.concat(person))\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000);\n        })\n        .catch((error) => {\n          \n          setMessage({message: `Information of ${nameObject.name} has already been removed from server`, className: 'error'})\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000);\n        })\n      // axios\n      //   .post('http://localhost:3001/persons', nameObject)\n      //   .then(response => {\n      //     console.log(response.data)\n      //     setPersons(persons.concat(response.data))\n      //   })\n      setNewName('')\n      setNewNumber('')\n      \n  }\n  }\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) =>{\n    setNewNumber(event.target.value)\n  }\n\n  \n  // const filtered = persons.filter((person) =>\n  //   person.name.toLowerCase().includes(filterName.toLowerCase())\n  // );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <UpdateMessage notify = {message} />\n      <Filter filterName = {filterName} setFilterName = {setFilterName} />\n      <PersonForm addPerson = {addPerson} \n        newName = {newName}\n        newNumber = {newNumber}\n        handleNameChange = {handleNameChange}\n        handleNumberChange = {handleNumberChange} \n        />\n      <h2>Numbers</h2>\n      <Persons persons = {persons} setPersons = {setPersons} filterName = {filterName}\n      message = {message}\n      setMessage = {setMessage} />\n      \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}